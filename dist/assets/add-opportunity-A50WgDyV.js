import{u as w,b as z,y as A,j as a,B as h,h as T,c as e,R as l,q as s,aJ as S,aK as k}from"./index-D7kYuqtd.js";import{D as g}from"./index-DcquuWwD.js";import{F as i}from"./index-Cxldnjy_.js";import{I as n}from"./index-DAOf7p35.js";import{T as c}from"./index-Dnrrwy9u.js";import{s as D}from"./index-_Yt4mwVO.js";import{d as f}from"./dayjs.min-SzvlDAgD.js";import{L as x}from"./locale-formatter-FZ-3y9Y2.js";import{u as P}from"./opportunity.service-Z_MSTo0G.js";import{u as W}from"./loading.hook-B4xO64Zi.js";import{u as v}from"./message.hook-fAQPADwq.js";import"./ExclamationCircleFilled-Bz7bDzj1.js";import"./InfoCircleFilled-CK2dnJYF.js";function Z(){const{formatMessage:r}=w(),{addOpportunity:y}=P(),[b]=W(["add-opportunity",!1]),[p]=i.useForm(),m=z(o=>o.auth.user),[u,q]=D.useMessage(),{errors:I}=v("addOpportunity-message"),M=A(),C=async o=>{const Y={...o,estimatedMoney:o.estimatedMoney.toString(),budget:o.budget.toString(),commissionMoney:o.commissionMoney.toString(),estimatedTime:f(o.estimatedTime).format("DD/MM/YYYY"),lastTimeInteract:f(o.lastTimeInteract).format("DD/MM/YYYY"),applicationUserId:m==null?void 0:m.id};await y(Y)?(p.resetFields(),u.success(S.CREATE_SUCCESS)):u.success(I[0])};return a("div",{css:O,children:[q,a(h,{css:F,onClick:()=>M(`/sales/opportunity?tenant=${T()}`),children:[e(k,{width:16,height:16,color:"#ccc"}),e(x,{id:"title.exit"})]}),e("h1",{css:j,children:r({id:"title.addOpportuity"})}),a(i,{form:p,css:E,name:"add-opportunity",onFinish:C,layout:"vertical",children:[a(l,{gutter:[20,0],children:[e(s,{span:12,children:e(i.Item,{label:e("span",{css:t,children:r({id:"form.input.customer"})}),name:"customerName",rules:[{required:!0,message:r({id:"form.input.require.customer"})}],children:e(n,{size:"large",placeholder:r({id:"form.input.placeholder.customer"})})})}),e(s,{span:12,children:e(i.Item,{label:e("span",{css:t,children:r({id:"form.input.decisionMaker"})}),name:"accountable",rules:[{required:!0,message:r({id:"form.input.require.decisionMaker"})}],children:e(n,{size:"large",placeholder:r({id:"form.input.placeholder.decisionMaker"})})})})]}),a(l,{gutter:[20,0],children:[e(s,{span:12,children:e(i.Item,{label:e("span",{css:t,children:r({id:"form.input.technicalPerson"})}),name:"technicalLead",rules:[{required:!0,message:r({id:"form.input.require.technicalPerson"})}],children:e(n,{size:"large",placeholder:r({id:"form.input.placeholder.technicalPerson"})})})}),e(s,{span:12,children:e(i.Item,{label:e("span",{css:t,children:r({id:"form.input.beneficiary"})}),name:"beneficiary",rules:[{required:!0,message:r({id:"form.input.require.beneficiary"})}],children:e(n,{size:"large",placeholder:r({id:"form.input.placeholder.beneficiary"})})})})]}),e(i.Item,{label:e("span",{css:t,children:r({id:"form.input.customerNeeds"})}),name:"need",rules:[{required:!0,message:r({id:"form.input.require.customerNeeds"})}],children:e(n.TextArea,{placeholder:r({id:"form.input.placeholder.customerNeeds"})})}),a(l,{gutter:[20,0],children:[e(s,{span:12,children:e(i.Item,{label:e("span",{css:t,children:r({id:"form.input.OpportunityTimeline"})}),name:"estimatedTime",rules:[{required:!0,message:r({id:"form.input.require.OpportunityTimeline"})}],children:e(g,{css:d,size:"large",format:["DD/MM/YYYY"],placeholder:"DD/MM/YYYY"})})}),e(s,{span:12,children:e(i.Item,{label:e("span",{css:t,children:r({id:"form.input.budget"})}),name:"budget",rules:[{required:!0,message:r({id:"form.input.require.budget"})}],children:e(c,{css:d,size:"large",placeholder:r({id:"form.input.placeholder.budget"})})})})]}),a(l,{gutter:[20,0],children:[e(s,{span:12,children:e(i.Item,{label:e("span",{css:t,children:r({id:"form.input.estimatedPrice"})}),name:"estimatedMoney",rules:[{required:!0,message:r({id:"form.input.require.estimatedPrice"})}],children:e(c,{css:d,size:"large",placeholder:r({id:"form.input.placeholder.estimatedPrice"})})})}),e(s,{span:12,children:e(i.Item,{label:e("span",{css:t,children:r({id:"form.input.commissionConsultant"})}),name:"commissionMoney",rules:[{required:!0,message:r({id:"form.input.require.commissionConsultant"})}],children:e(c,{css:d,size:"large",placeholder:r({id:"form.input.placeholder.commissionConsultant"})})})})]}),a(l,{gutter:[20,0],children:[e(s,{span:12,children:e(i.Item,{label:e("span",{css:t,children:r({id:"form.input.oneCompetitor"})}),name:"opponent1",rules:[{required:!0,message:r({id:"form.input.require.oneCompetitor"})}],children:e(n,{size:"large",placeholder:r({id:"form.input.placeholder.oneCompetitor"})})})}),e(s,{span:12,children:e(i.Item,{label:e("span",{css:t,children:r({id:"form.input.strengthsAndWeaknesses"})}),name:"opponent1Attribute",rules:[{required:!0,message:r({id:"form.input.require.strengthsAndWeaknesses"})}],children:e(n,{size:"large",placeholder:r({id:"form.input.placeholder.strengthsAndWeaknesses"})})})})]}),a(l,{gutter:[20,0],children:[e(s,{span:12,children:e(i.Item,{label:e("span",{css:t,children:r({id:"form.input.twoCompetitor"})}),name:"opponent2",rules:[{required:!0,message:r({id:"form.input.require.twoCompetitor"})}],children:e(n,{size:"large",placeholder:r({id:"form.input.placeholder.twoCompetitor"})})})}),e(s,{span:12,children:e(i.Item,{label:e("span",{css:t,children:r({id:"form.input.strengthsAndWeaknesses"})}),name:"opponent2Attribute",rules:[{required:!0,message:r({id:"form.input.require.strengthsAndWeaknesses"})}],children:e(n,{size:"large",placeholder:r({id:"form.input.placeholder.strengthsAndWeaknesses"})})})})]}),e(i.Item,{label:e("span",{css:t,children:r({id:"form.input.strategy"})}),name:"strategy",rules:[{required:!0,message:r({id:"form.input.require.strategy"})}],children:e(n.TextArea,{placeholder:r({id:"form.input.placeholder.strategy"})})}),a(l,{gutter:[20,0],children:[e(s,{span:12,children:e(i.Item,{label:e("span",{css:t,children:r({id:"form.input.interactionBetweenCompanyAndCustomer"})}),name:"lastTimeInteract",rules:[{required:!0,message:r({id:"form.input.require.interactionBetweenCompanyAndCustomer"})}],children:e(g,{format:["DD/MM/YYYY"],css:d,size:"large",placeholder:r({id:"form.input.placeholder.interactionBetweenCompanyAndCustomer"})})})}),e(s,{span:12,children:e(i.Item,{label:e("span",{css:t,children:r({id:"form.input.WinProbabilityEvaluation"})}),name:"winningOppotunity",rules:[{required:!0,message:r({id:"form.input.require.WinProbabilityEvaluation"})}],children:e(n,{size:"large",placeholder:r({id:"form.input.placeholder.WinProbabilityEvaluation"})})})})]}),e(l,{justify:"end",children:e(h,{loading:b,size:"large",type:"primary",htmlType:"submit",children:"Xác nhận"})})]})]})}const O={name:"ylb9v4",styles:"width:100%;max-width:90rem;height:100%;margin:4rem auto;position:relative"},F={name:"1xcndgz",styles:"display:flex;align-items:center;gap:0.4rem;position:absolute;right:0;top:0;&:hover{svg{path{fill:#4096ff;}}}"},j={name:"1hxvt0g",styles:"font-size:2.4rem;line-height:2.4rem;font-weight:600;color:rgba(16, 24, 40, 1)"},E={name:"1j6w3rk",styles:".ant-form-item-required::before{display:none!important;}margin-top:2rem"},t={name:"1pi3rvi",styles:"font-size:1.4rem;line-height:1.6rem;font-weight:500;color:rgba(16, 24, 40, 1)"},d={name:"1d3w5wq",styles:"width:100%"};export{Z as default};
//# sourceMappingURL=add-opportunity-A50WgDyV.js.map
