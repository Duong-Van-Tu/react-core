import{b as R,c as t,L as v,aD as c,P as l,a as G,u as N,g as w,r as p,z as _,j as f,B as z,T as D}from"./index-D7kYuqtd.js";import{T as E}from"./table-CK0VyuD-.js";import{L as o}from"./locale-formatter-FZ-3y9Y2.js";import{u as Z}from"./income.service-YjerK4EY.js";import{u as B}from"./loading.hook-B4xO64Zi.js";import{S as k}from"./search-8bG-27XG.js";import{R as j}from"./DownloadOutlined-D0GEP7Fr.js";import"./index-DGwjM0Al.js";import"./index-DMzhYhmi.js";import"./index-BuPIgzdn.js";import"./index-DAOf7p35.js";import"./dayjs.min-SzvlDAgD.js";const g=({recordAdmin:a,recordUser:e})=>{const i=R(n=>n.auth.user);return t(v,{style:{textAlign:"center",display:"block"},to:a?`/personnel/infor-income/details-view?userId=${a.applicationUser.id}`:`/personnel/infor-income/details-view?userId=${i==null?void 0:i.id}&month=${e==null?void 0:e.month}&year=${e==null?void 0:e.year}`,children:t(o,{id:"title.document.detailsView"})})},V=[{title:t(o,{id:"title.month"}),dataIndex:"month"},{title:t(o,{id:"table.column.currentIncome.position1"}),dataIndex:"oneLocation",render:(a,e)=>{var i,n;return t(c,{children:(i=e==null?void 0:e.incomeRoles[0])!=null&&i.income?(n=e==null?void 0:e.incomeRoles[0])==null?void 0:n.income:"-"})}},{title:t(o,{id:"table.column.currentIncome.position2"}),dataIndex:"twoLocation",render:(a,e)=>{var i,n;return t(c,{children:(i=e==null?void 0:e.incomeRoles[1])!=null&&i.income?(n=e==null?void 0:e.incomeRoles[1])==null?void 0:n.income:"-"})}},{title:t(o,{id:"table.column.currentIncome.position3"}),dataIndex:"threeLocation",render:(a,e)=>{var i,n;return t(c,{children:(i=e==null?void 0:e.incomeRoles[2])!=null&&i.income?(n=e==null?void 0:e.incomeRoles[2])==null?void 0:n.income:"-"})}},{title:t(o,{id:"table.column.currentIncome.position4"}),dataIndex:"fourLocation",render:(a,e)=>{var i,n;return t(c,{children:(i=e==null?void 0:e.incomeRoles[3])!=null&&i.income?(n=e==null?void 0:e.incomeRoles[3])==null?void 0:n.income:"-"})}},{title:t(o,{id:"table.column.currentIncome.position5"}),dataIndex:"fiveLocation",render:(a,e)=>{var i,n;return t(c,{children:(i=e==null?void 0:e.incomeRoles[4])!=null&&i.income?(n=e==null?void 0:e.incomeRoles[4])==null?void 0:n.income:"-"})}},{title:t(o,{id:"table.column.currentIncome.otherIncome"}),dataIndex:"incomeOther"},{title:t(o,{id:"table.column.currentIncome.totalIncomeReceived"}),dataIndex:"totalIncome"},{title:"",dataIndex:"detailsView",fixed:"right",width:"10%",render:(a,e)=>t(g,{recordUser:e})}],X=[{title:t(o,{id:"title.column.income.humanResourceCode"}),dataIndex:["applicationUser","id"]},{title:t(o,{id:"title.column.income.fullName"}),dataIndex:["applicationUser","fullName"]},{title:t(o,{id:"table.column.currentIncome.position1"}),dataIndex:"oneLocation",render:(a,e)=>{var i,n;return t(c,{children:(i=e==null?void 0:e.incomeRoles[0])!=null&&i.income?(n=e==null?void 0:e.incomeRoles[0])==null?void 0:n.income:"-"})}},{title:t(o,{id:"table.column.currentIncome.position2"}),dataIndex:"twoLocation",render:(a,e)=>{var i,n;return t(c,{children:(i=e==null?void 0:e.incomeRoles[1])!=null&&i.income?(n=e==null?void 0:e.incomeRoles[1])==null?void 0:n.income:"-"})}},{title:t(o,{id:"table.column.currentIncome.position3"}),dataIndex:"threeLocation",render:(a,e)=>{var i,n;return t(c,{children:(i=e==null?void 0:e.incomeRoles[2])!=null&&i.income?(n=e==null?void 0:e.incomeRoles[2])==null?void 0:n.income:"-"})}},{title:t(o,{id:"table.column.currentIncome.position4"}),dataIndex:"fourLocation",render:(a,e)=>{var i,n;return t(c,{children:(i=e==null?void 0:e.incomeRoles[3])!=null&&i.income?(n=e==null?void 0:e.incomeRoles[3])==null?void 0:n.income:"-"})}},{title:t(o,{id:"table.column.currentIncome.position5"}),dataIndex:"fiveLocation",render:(a,e)=>{var i,n;return t(c,{children:(i=e==null?void 0:e.incomeRoles[4])!=null&&i.income?(n=e==null?void 0:e.incomeRoles[4])==null?void 0:n.income:"-"})}},{title:t(o,{id:"table.column.currentIncome.otherIncome"}),dataIndex:"incomeOther"},{title:t(o,{id:"table.column.currentIncome.totalIncomeReceived"}),dataIndex:"totalIncome"},{title:"",dataIndex:"detailsView",fixed:"right",width:"10%",render:(a,e)=>t(g,{recordAdmin:e})}];function W({data:a,isAdmin:e,loading:i,pagination:n,getListIncomeWithRoleAdmin:d,getListIncomeWithRoleUser:h}){const s=u=>{e?d({pageIndex:u,pageSize:l.PAGESIZE}):h({pageIndex:u,pageSize:l.PAGESIZE})};return t(E,{columns:e?X:V,dataSource:a,loading:i,rowKey:u=>u.key,onTableChange:u=>s(u),pagination:{current:n==null?void 0:n.pageIndex,pageSize:l.PAGESIZE,total:n==null?void 0:n.totalRecords,position:["bottomCenter"]},scroll:{x:1450}})}const F=[{title:t(o,{id:"table.column.currentIncome.totalIncomeBeforeTaxes"}),dataIndex:"incomeBeforeTax"},{title:t(o,{id:"table.column.currentIncome.totalIncomeIsNotTaxable"}),dataIndex:"incomeNonTax"},{title:t(o,{id:"table.column.currentIncome.totalDeductionDueToFamilyCircumstances"}),dataIndex:"dependent"},{title:t(o,{id:"table.column.currentIncome.totalSocialInsuranceAmount"}),dataIndex:"insurance"},{title:t(o,{id:"table.column.currentIncome.totalTaxableIncome"}),dataIndex:"incomeTax"},{title:t(o,{id:"table.column.currentIncome.totalTemporaryTaxCollected"}),dataIndex:"personalIncomeTax"},{title:t(o,{id:"table.column.currentIncome.totalIncomeReceived"}),dataIndex:"incomeRecevied"}],$=[{title:t(o,{id:"title.column.income.humanResourceCode"}),dataIndex:["applicationUser","id"]},{title:t(o,{id:"title.column.income.fullName"}),dataIndex:["applicationUser","fullName"]},{title:t(o,{id:"title.column.income.position"}),dataIndex:"roles",render:a=>a.map(e=>e.name).join(", ")},{title:t(o,{id:"table.column.currentIncome.totalIncomeBeforeTaxes"}),dataIndex:"incomeBeforeTax"},{title:t(o,{id:"table.column.currentIncome.totalIncomeIsNotTaxable"}),dataIndex:"incomeNonTax"},{title:t(o,{id:"table.column.currentIncome.totalDeductionDueToFamilyCircumstances"}),dataIndex:"dependent"},{title:t(o,{id:"table.column.currentIncome.totalSocialInsuranceAmount"}),dataIndex:"insurance"},{title:t(o,{id:"table.column.currentIncome.totalTaxableIncome"}),dataIndex:"incomeTax"},{title:t(o,{id:"table.column.currentIncome.totalTemporaryTaxCollected"}),dataIndex:"personalIncomeTax"},{title:t(o,{id:"table.column.currentIncome.totalIncomeReceived"}),dataIndex:"incomeRecevied"}];function K({data:a,loading:e,isAdmin:i,pagination:n,getListIncome:d}){const h=s=>{d({pageIndex:s,pageSize:l.PAGESIZE})};return t(E,{columns:i?$:F,dataSource:a,loading:e,rowKey:s=>s.key,onTableChange:s=>h(s),pagination:i?{current:n==null?void 0:n.pageIndex,pageSize:l.PAGESIZE,total:n==null?void 0:n.totalRecords,position:["bottomCenter"]}:void 0,scroll:{x:1450}})}function le(){const{getListIncome:a,getListIncomeWithRoleUser:e,getListIncomeWithRoleAdmin:i}=Z(),{isAdmin:n}=G(),{formatMessage:d}=N(),[h,s,u]=B(["get-list-income",!0],["get-list-income-with-role-admin",!0],["get-list-income-with-role-user",!0]),b=w(),{data:S,dataRoleAdmin:T,dataRoleUser:A,pagination:m}=R(I=>I.user.income),[x,C]=p.useState("1");p.useEffect(()=>{b(_([{title:{vi_VN:"Nhân sự",en_US:"Personnel"}},{title:{vi_VN:"Thông tin thu nhập",en_US:"Income information"}}]))},[b]),p.useEffect(()=>{if(x==="1"){a({pageIndex:l.PAGEINDEX,pageSize:l.PAGESIZE});return}if(x==="2"){n?i({pageIndex:l.PAGEINDEX,pageSize:l.PAGESIZE}):e({pageIndex:l.PAGEINDEX,pageSize:l.PAGESIZE});return}},[x]);const y=[{key:"1",label:d({id:"title.document.incomeDuringTheYear"}),children:t(K,{data:S,loading:h,isAdmin:n,pagination:m,getListIncome:a})},{key:"2",label:d({id:"title.document.incomeByPosition"}),children:t(W,{data:n?T:A,isAdmin:n,loading:n?s:u,pagination:m,getListIncomeWithRoleAdmin:i,getListIncomeWithRoleUser:e})}],P=({textSearch:I,time:r})=>{if(x==="1"){a({pageIndex:(m==null?void 0:m.pageIndex)??l.PAGEINDEX,pageSize:l.PAGESIZE,textSearch:I,time:r});return}if(x==="2"){n?i({pageIndex:(m==null?void 0:m.pageIndex)??l.PAGEINDEX,pageSize:l.PAGESIZE,textSearch:I,time:r}):e({pageIndex:(m==null?void 0:m.pageIndex)??l.PAGEINDEX,pageSize:l.PAGESIZE,textSearch:I,time:r});return}},L=I=>{C(I)};return f("div",{children:[f("div",{style:{display:"flex",alignItems:" center",justifyContent:"space-between"},children:[t("h3",{css:U,children:d({id:"title.document.inforIncome"})}),n&&t(z,{type:"primary",size:"large",icon:t(j,{}),children:"Import Excel"})]}),n&&t("div",{css:O,children:t(k,{onSearch:P})}),t(D,{defaultActiveKey:x,items:y,onChange:L})]})}const U={name:"vahflk",styles:"font-size:1.8rem;line-height:2rem;font-weight:500;margin-bottom:2.4rem;color:#101828"},O={name:"gjoxlq",styles:"margin:2.6rem 0"};export{le as default};
//# sourceMappingURL=index-RB11O7uD.js.map
