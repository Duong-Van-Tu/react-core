{"version":3,"file":"update-relationship-CmMML8TQ.js","sources":["../../src/modules/sales/pages/relationship/update-relationship.tsx"],"sourcesContent":["/** @jsxImportSource @emotion/react */\nimport { css } from '@emotion/react';\nimport { useEffect } from 'react';\nimport { useRelationship } from '../../services/relationship.service';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { useRootSelector } from '@/hooks/selector.hook';\nimport { Button, Col, DatePicker, Form, FormProps, Input, Row, message as messageAnt } from 'antd';\nimport { getTenant } from '@/utils/common';\nimport { CustomIcon } from '@/components/icons';\nimport { LocaleFormatter } from '@/components/locale-formatter';\nimport { Messages } from '@/constants/message';\nimport { useWatchMessage } from '@/hooks/message.hook';\nimport { useWatchLoading } from '@/hooks/loading.hook';\nimport dayjs from 'dayjs';\n\ntype FieldType = GainsRelationshipType;\n\nexport default function UpdateGainsRelationship() {\n  const { getGainsRelationshipById, updateGainsRelationship } = useRelationship();\n  const navigate = useNavigate();\n  const [form] = Form.useForm();\n  const [loading] = useWatchLoading(['updateGainsDetail-loading', false]);\n  const [messageApi, contextHolder] = messageAnt.useMessage();\n  const gains = useRootSelector((state) => state.sale.relationship.gains);\n  const { errors } = useWatchMessage('gainsDetail-message');\n  const tenant = getTenant();\n  const { id: relationshipId } = useParams();\n  const onFinish: FormProps<FieldType>['onFinish'] = async (values) => {\n    const dataUpdateGains = {\n      id: gains?.id,\n      ...values,\n      dayOfBirth: dayjs(values.dayOfBirth).format('DD/MM/YYYY'),\n    };\n    const update = await updateGainsRelationship(dataUpdateGains);\n    if (update) {\n      form.resetFields();\n      messageApi.success(Messages.UPDATE_SUCCESS);\n    } else {\n      messageApi.success(errors[0]);\n    }\n  };\n\n  useEffect(() => {\n    getGainsRelationshipById(relationshipId!);\n  }, [getGainsRelationshipById, relationshipId]);\n\n  useEffect(() => {\n    form.setFieldsValue({ ...gains, dayOfBirth: dayjs(gains?.dayOfBirth) });\n  }, [gains]);\n\n  return (\n    <div css={containerStyle}>\n      {contextHolder}\n      <Button css={closeStyle} onClick={() => navigate(`/sales/relationship?tenant=${tenant}`)}>\n        <CustomIcon type=\"close\" width={16} height={16} color=\"#ccc\" />\n        <LocaleFormatter id=\"title.exit\" />\n      </Button>\n      <h1 css={titleStyle}>Cập nhật kết quả mối quan hệ</h1>\n      <h3 css={subTitle}>Bảng GAINS</h3>\n      <Form form={form} css={formStyle} name=\"update-gains\" onFinish={onFinish} layout=\"vertical\">\n        <Row gutter={[20, 0]}>\n          <Col span={12}>\n            <Form.Item<FieldType>\n              label={<span css={labelFormItem}>Ngày sinh</span>}\n              name=\"dayOfBirth\"\n              rules={[\n                {\n                  required: true,\n                  message: 'Vui lòng nhập ngày sinh!',\n                },\n              ]}\n            >\n              <DatePicker\n                css={inputStyle}\n                format={['DD/MM/YYYY']}\n                size=\"middle\"\n                placeholder=\"Nhập ngày sinh\"\n              />\n            </Form.Item>\n          </Col>\n          <Col span={12}>\n            <Form.Item<FieldType>\n              label={<span css={labelFormItem}>Nguyên quán</span>}\n              name=\"nativePlace\"\n              rules={[\n                {\n                  required: true,\n                  message: 'Vui lòng nhập nguyên quán!',\n                },\n              ]}\n            >\n              <Input size=\"middle\" placeholder=\"Nhập nguyên quán\" />\n            </Form.Item>\n          </Col>\n        </Row>\n        <Form.Item<FieldType>\n          label={<span css={labelFormItem}>Tên các trường đã học và năm học</span>}\n          name=\"schoolAndYear\"\n          rules={[\n            {\n              required: true,\n              message: 'Vui lòng tên các trường đã học và năm học!',\n            },\n          ]}\n        >\n          <Input.TextArea\n            size=\"large\"\n            placeholder=\"Nhập tên các trường đã học và năm học\"\n            allowClear\n          />\n        </Form.Item>\n\n        <Row gutter={[20, 0]}>\n          <Col span={12}>\n            <Form.Item<FieldType>\n              label={<span css={labelFormItem}>Email</span>}\n              name=\"email\"\n              rules={[\n                {\n                  required: true,\n                  message: 'Vui lòng nhập email!',\n                },\n                { pattern: /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/, message: 'Email không hợp lệ!' },\n              ]}\n            >\n              <Input type=\"email\" css={inputStyle} size=\"middle\" placeholder=\"Nhập email\" />\n            </Form.Item>\n          </Col>\n          <Col span={12}>\n            <Form.Item<FieldType>\n              label={<span css={labelFormItem}>Số điện thoại</span>}\n              name=\"phone\"\n              rules={[\n                {\n                  required: true,\n                  message: 'Vui lòng nhập số điện thoại!',\n                },\n                {\n                  pattern: /^[0-9]+$/,\n                  message: 'Số điện thoại không hợp lệ!',\n                },\n              ]}\n            >\n              <Input size=\"middle\" placeholder=\"Nhập số điện thoại\" />\n            </Form.Item>\n          </Col>\n        </Row>\n        <Row gutter={[20, 0]}>\n          <Col span={12}>\n            <Form.Item<FieldType>\n              label={<span css={labelFormItem}>Tên công ty</span>}\n              name=\"company\"\n              rules={[\n                {\n                  required: true,\n                  message: 'Vui lòng nhập tên công ty!',\n                },\n              ]}\n            >\n              <Input css={inputStyle} size=\"middle\" placeholder=\"Nhập tên công ty\" />\n            </Form.Item>\n          </Col>\n          <Col span={12}>\n            <Form.Item<FieldType>\n              label={<span css={labelFormItem}>Các bằng cấp</span>}\n              name=\"degree\"\n              rules={[\n                {\n                  required: true,\n                  message: 'Vui lòng nhập các bằng cấp!',\n                },\n              ]}\n            >\n              <Input size=\"middle\" placeholder=\"Nhập các bằng cấp\" />\n            </Form.Item>\n          </Col>\n        </Row>\n        <Row gutter={[20, 0]}>\n          <Col span={12}>\n            <Form.Item<FieldType>\n              label={<span css={labelFormItem}>Chức danh trong doanh nghiệp</span>}\n              name=\"position\"\n              rules={[\n                {\n                  required: true,\n                  message: 'Vui lòng nhập chức danh trong doanh nghiệp!',\n                },\n              ]}\n            >\n              <Input size=\"middle\" placeholder=\"Nhập chức danh trong doanh nghiệp\" />\n            </Form.Item>\n          </Col>\n          <Col span={12}>\n            <Form.Item<FieldType>\n              label={<span css={labelFormItem}>Thời gian nắm giữ chức danh trên</span>}\n              name=\"positionTerm\"\n              rules={[\n                {\n                  required: true,\n                  message: 'Vui lòng nhập thời gian nắm giữ chức danh trên!',\n                },\n              ]}\n            >\n              <Input size=\"middle\" placeholder=\"Nhập thời gian nắm giữ chức danh trên\" />\n            </Form.Item>\n          </Col>\n        </Row>\n        <Row gutter={[20, 0]}>\n          <Col span={12}>\n            <Form.Item<FieldType>\n              label={<span css={labelFormItem}>Công việc đã trải qua</span>}\n              name=\"formerJob\"\n              rules={[\n                {\n                  required: true,\n                  message: 'Vui lòng nhập công việc đã trải qua!',\n                },\n              ]}\n            >\n              <Input size=\"middle\" placeholder=\"Nhập công việc đã trải qua\" />\n            </Form.Item>\n          </Col>\n          <Col span={12}>\n            <Form.Item<FieldType>\n              label={<span css={labelFormItem}>Địa chỉ nơi ở hiện nay</span>}\n              name=\"address\"\n              rules={[\n                {\n                  required: true,\n                  message: 'Vui lòng nhập địa chỉ nơi ở hiện nay!',\n                },\n              ]}\n            >\n              <Input size=\"middle\" placeholder=\"Nhập địa chỉ nơi ở hiện nay\" />\n            </Form.Item>\n          </Col>\n        </Row>\n        <Form.Item<FieldType>\n          label={<span css={labelFormItem}>Thông tin gia đình</span>}\n          name=\"family\"\n          rules={[\n            {\n              required: true,\n              message: 'Vui lòng nhập thông tin gia đình!',\n            },\n          ]}\n        >\n          <Input size=\"middle\" placeholder=\"Nhập địa thông tin gia đình\" />\n        </Form.Item>\n        <Row gutter={[20, 0]}>\n          <Col span={12}>\n            <Form.Item<FieldType>\n              label={<span css={labelFormItem}>Chuyên môn chính</span>}\n              name=\"speciality\"\n              rules={[\n                {\n                  required: true,\n                  message: 'Vui lòng nhập chuyên môn chính!',\n                },\n              ]}\n            >\n              <Input size=\"middle\" placeholder=\"Nhập chuyên môn chính\" />\n            </Form.Item>\n          </Col>\n          <Col span={12}>\n            <Form.Item<FieldType>\n              label={<span css={labelFormItem}>Thói quen hằng ngày</span>}\n              name=\"habit\"\n              rules={[\n                {\n                  required: true,\n                  message: 'Vui lòng nhập thói quen hằng ngày!',\n                },\n              ]}\n            >\n              <Input size=\"middle\" placeholder=\"Nhập thói quen hằng ngày\" />\n            </Form.Item>\n          </Col>\n        </Row>\n\n        <Row gutter={[20, 0]}>\n          <Col span={12}>\n            <Form.Item<FieldType>\n              label={<span css={labelFormItem}>Sở trường</span>}\n              name=\"strongPoint\"\n              rules={[\n                {\n                  required: true,\n                  message: 'Vui lòng nhập sở trường!',\n                },\n              ]}\n            >\n              <Input size=\"middle\" placeholder=\"Nhập sở trường\" />\n            </Form.Item>\n          </Col>\n          <Col span={12}>\n            <Form.Item<FieldType>\n              label={<span css={labelFormItem}>Sở đoạn</span>}\n              name=\"weakPoint\"\n              rules={[\n                {\n                  required: true,\n                  message: 'Vui lòng nhập sở đoạn!',\n                },\n              ]}\n            >\n              <Input size=\"middle\" placeholder=\"Nhập sở đoạn\" />\n            </Form.Item>\n          </Col>\n        </Row>\n\n        <Row gutter={[20, 0]}>\n          <Col span={12}>\n            <Form.Item<FieldType>\n              label={<span css={labelFormItem}>Sở thích (món ăn, âm nhạc,...)</span>}\n              name=\"hobby\"\n              rules={[\n                {\n                  required: true,\n                  message: 'Vui lòng nhập sở thích!',\n                },\n              ]}\n            >\n              <Input size=\"middle\" placeholder=\"Nhập sở thích\" />\n            </Form.Item>\n          </Col>\n          <Col span={12}>\n            <Form.Item<FieldType>\n              label={<span css={labelFormItem}>Điều không thích</span>}\n              name=\"dislike\"\n              rules={[\n                {\n                  required: true,\n                  message: 'Vui lòng nhập điều không thích!',\n                },\n              ]}\n            >\n              <Input size=\"middle\" placeholder=\"Nhập điều không thích\" />\n            </Form.Item>\n          </Col>\n        </Row>\n\n        <Row gutter={[20, 0]}>\n          <Col span={12}>\n            <Form.Item<FieldType>\n              label={<span css={labelFormItem}>Những hoạt động yêu thích</span>}\n              name=\"faviroteActivity\"\n              rules={[\n                {\n                  required: true,\n                  message: 'Vui lòng nhập những hoạt động yêu thích!',\n                },\n              ]}\n            >\n              <Input size=\"middle\" placeholder=\"Nhập những hoạt động yêu thích\" />\n            </Form.Item>\n          </Col>\n          <Col span={12}>\n            <Form.Item<FieldType>\n              label={<span css={labelFormItem}>Khát vọng cháy bỏng</span>}\n              name=\"aspiration\"\n              rules={[\n                {\n                  required: true,\n                  message: 'Vui lòng nhập khát vọng cháy bỏng!',\n                },\n              ]}\n            >\n              <Input size=\"middle\" placeholder=\"Nhập khát vọng cháy bỏng\" />\n            </Form.Item>\n          </Col>\n        </Row>\n\n        <Row gutter={[20, 0]}>\n          <Col span={12}>\n            <Form.Item<FieldType>\n              label={<span css={labelFormItem}>Ngày T7, CN thường làm gì</span>}\n              name=\"weekendActivity\"\n              rules={[\n                {\n                  required: true,\n                  message: 'Vui lòng nhập ngày T7, CN thường làm gì!',\n                },\n              ]}\n            >\n              <Input size=\"middle\" placeholder=\"nhập Ngày T7, CN thường làm gì\" />\n            </Form.Item>\n          </Col>\n          <Col span={12}>\n            <Form.Item<FieldType>\n              label={<span css={labelFormItem}>Mong muốn gì 1-2 năm tới</span>}\n              name=\"longGoal\"\n              rules={[\n                {\n                  required: true,\n                  message: 'Vui lòng nhập mong muốn gì 1-2 năm tới!',\n                },\n              ]}\n            >\n              <Input size=\"middle\" placeholder=\"Nhập mong muốn gì 1-2 năm tới\" />\n            </Form.Item>\n          </Col>\n        </Row>\n\n        <Row gutter={[20, 0]}>\n          <Col span={12}>\n            <Form.Item<FieldType>\n              label={<span css={labelFormItem}>Thần tượng Nhân vật ưa thích là ai</span>}\n              name=\"idol\"\n              rules={[\n                {\n                  required: true,\n                  message: 'Vui lòng nhập thần tượng Nhân vật ưa thích là ai!',\n                },\n              ]}\n            >\n              <Input size=\"middle\" placeholder=\"nhập thần tượng Nhân vật ưa thích là ai\" />\n            </Form.Item>\n          </Col>\n          <Col span={12}>\n            <Form.Item<FieldType>\n              label={<span css={labelFormItem}>Điều quan tâm trong 1-2-3 tháng tới</span>}\n              name=\"nearGoal\"\n              rules={[\n                {\n                  required: true,\n                  message: 'Vui lòng nhập điều quan tâm trong 1-2-3 tháng tới!',\n                },\n              ]}\n            >\n              <Input size=\"middle\" placeholder=\"Nhập điều quan tâm trong 1-2-3 tháng tới\" />\n            </Form.Item>\n          </Col>\n        </Row>\n\n        <Row gutter={[20, 0]}>\n          <Col span={12}>\n            <Form.Item<FieldType>\n              label={<span css={labelFormItem}>Các CLB, tổ chức tham dự</span>}\n              name=\"clubs\"\n              rules={[\n                {\n                  required: true,\n                  message: 'Vui lòng nhập các CLB, tổ chức tham dự!',\n                },\n              ]}\n            >\n              <Input size=\"middle\" placeholder=\"nhập các CLB, tổ chức tham dự\" />\n            </Form.Item>\n          </Col>\n          <Col span={12}>\n            <Form.Item<FieldType>\n              label={\n                <span css={labelFormItem}>\n                  Những thành tựu, tài sản, kinh nghiệm, kiến thức, kỹ năng, bằng cấp…\n                </span>\n              }\n              name=\"archivement\"\n              rules={[\n                {\n                  required: true,\n                  message:\n                    'Vui lòng nhập những thành tựu, tài sản, kinh nghiệm, kiến thức, kỹ năng, bằng cấp…!',\n                },\n              ]}\n            >\n              <Input\n                size=\"middle\"\n                placeholder=\"Nhập những thành tựu, tài sản, kinh nghiệm, kiến thức, kỹ năng, bằng cấp…\"\n              />\n            </Form.Item>\n          </Col>\n        </Row>\n\n        <Row justify=\"end\">\n          <Button loading={loading} size=\"middle\" type=\"primary\" htmlType=\"submit\">\n            Xác nhận\n          </Button>\n        </Row>\n      </Form>\n    </div>\n  );\n}\n\nconst containerStyle = css`\n  width: 100%;\n  max-width: 100rem;\n  height: 100%;\n  margin: 4rem auto;\n  position: relative;\n`;\n\nconst closeStyle = css`\n  display: flex;\n  align-items: center;\n  gap: 0.4rem;\n  position: absolute;\n  right: 0;\n  top: 0;\n  &:hover {\n    svg {\n      path {\n        fill: #4096ff;\n      }\n    }\n  }\n`;\n\nconst titleStyle = css`\n  font-size: 2.4rem;\n  line-height: 2.6rem;\n  font-weight: 500;\n  color: rgba(16, 24, 40, 1);\n`;\n\nconst subTitle = css`\n  font-size: 1.8rem;\n  line-height: 2rem;\n  font-weight: 500;\n  margin-top: 2rem;\n  color: rgba(16, 24, 40, 1);\n`;\n\nconst formStyle = css`\n  .ant-form-item-required::before {\n    display: none !important;\n  }\n  margin-top: 2rem;\n`;\n\nconst labelFormItem = css`\n  font-size: 1.4rem;\n  line-height: 1.6rem;\n  font-weight: 500;\n  color: rgba(16, 24, 40, 1);\n`;\n\nconst inputStyle = css`\n  width: 100%;\n`;\n"],"names":["UpdateGainsRelationship","getGainsRelationshipById","updateGainsRelationship","form","Form","navigate","messageAnt","gains","state","errors","messageApi","relationshipId","onFinish","values","id","success","useEffect","dayOfBirth","tenant","jsx","CustomIcon","contextHolder","LocaleFormatter","titleStyle","jsxs","Row","pattern","labelFormItem","DatePicker","Col","process","message","_EMOTION_STRINGIFIED_CSS_ERROR__","Input","required","env"],"mappings":"gmBAWA,SAAgCA,IAAA,CAO9B,KAAA,CAAQC,yBAAAA,EAAAA,wBAAAA,GAAAA,EAAAA,EAAAA,EAAAA,IAA0BC,MAAAA,QAAAA,EAA4C,CAAAC,CAAAC,EAAAA,EAAA,CAAA,4BAAA,EAAA,CAAA,EACxEC,MAAuBC,EAAA,WAAA,EACvBC,EAACJ,EAAqBK,UAAA,aAAA,KAAA,EACtBD,CACA,OAAAE,CAAA,EAACC,EAAAA,qBAAAA,QACDH,CACA,GAAAI,GAAAA,EAAAA,EAAAC,EAAA,MAAAC,GAAA,CAAEJ,MAAAA,EAAAA,CAAO,oBAAyC,GACxDK,KACM,WAAAD,EAAAA,EAAAA,UAAAA,EAAAA,OAAAA,YAAAA,CAAAA,cAEJV,EAAwB,YAAA,EACXW,EAAAA,QAAAA,EAAAA,cAAAA,kBAGbC,EAEAC,OAAAA,EAAAA,UAAA,IAAA,CAEaD,EAAAA,CAAAA,CAAAA,EACbd,CAAAA,EAAOU,CAAA,CAAA,EACMI,EAAAA,UAAeJ,IAAAA,CAE9BK,EAAAA,eAAA,CAEAA,GAAAA,EAAgB,WAAAT,EAAAA,GAAAA,YAAAA,EAAAA,UAAAA,CAAAA,CAAAU,CAAAA,EAAA,CAAAV,CAAA,CAAA,IACdN,MAAAA,CAIAE,IAAAA,EAAyBI,SAAAA,CAAAA,EAAAA,EAAAA,EAAAA,CAAOU,IAAAA,EAAsC,QAAA,IAAAZ,EAAA,8BAAAa,CAAA,EAAA,EACpEX,SAAAA,CAAMY,EAAAC,EAAA,CAGR,KAAA,QACGC,MAAAA,GACD,OAAA,GACG,MAAA,MAAA,CACD,EAAAF,EAAAG,EAAA,CACF,GAAA,YAAA,CAKI,CAAA,CAAA,CAMkB,EACDH,EAAA,KAAA,CAAA,IAIZI,0CAkDmD,EAGnDJ,EAAA,KAAA,CAAA,MASa,SAID,YAAA,CAQnB,EAAAK,EAAApB,EAAA,QAaM,WASc,eACD,SAAAQ,EA6BC,8BAKba,EAAA,CAYY,OAIZ,CAAA,GAAA,CAAA,EAAA,eAUY,KAAA,GAAAC,SAAAP,EAAAf,EAAA,KAAA,CAAA,QAAA,OAAA,CAQlB,IAAAuB,uBA2BE,EAMiB,KAAA,aAKb,MAAA,CAAA,CAGP,SAAA,GAEC,QAAA,0BAAA,CAYM,EASa,WAAAC,EAAA,OAQpB,OAAA,CAAA,YAAA,EAiBG,KAAA,SAMiB,YAAA,gBAAA,KAoCb,EAGPT,EAAAU,EAAA,MAEC,YAYMV,EAAAf,EAAA,KAAA,CASa,QAAA,OAAA,OAQpB,SAAA,aAAA,CAiBG,EAMiB,KAAA,kCA+CpB,QAAA,4BAAA,CAEC,EAUW0B,WAAAA,EAAAA,CAAA,KAAA,qBAAA,kBAAA,CAAA,CAAA,CAQJ,CAAA,CAAA,CAAAC,CAAAA,CAAA,EAAAC,EAAAA,EAAAA,KAAAA,CAgBA,QAAA,QAAAA,IAAAA,EAAAD,SAAA,kCAAA,CAOFD,EAAA,KAAA,gBAAAE,MAAAA,CAAAA,CAQC,SAAA,GAAA,QAAA,4CAAA,YAOIb,EAAAc,EAAA,SAAA,CAAA,KAAA,QAAAC,YAAA,wCAOHJ,WAAAK,EAAAA,CAAA,CAAA,CAAA,IAAAH,EAAAA"}