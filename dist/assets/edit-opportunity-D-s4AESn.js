import{t as S,a5 as x,m as P,z as k,g as O,c as W,r as y,e as p,o as e,n as o,B as b,aU as E,L as v,R as l,C as s,I as n,aV as F,aT as j}from"./index-Bakn7Zu-.js";import{D as q}from"./index-s-JRt1VF.js";import{F as r}from"./index-BxD5BTBy.js";import{T as u}from"./index-DlE2oBel.js";import{s as B}from"./index-CSFGGnad.js";import{u as L}from"./opportunity.service-Ce2J1PJa.js";import{u as N}from"./message.hook-D6m5Y0y-.js";function ee(){const{formatMessage:t}=S(),{updateOpportunity:I,getOpportunityById:h}=L(),{id:m}=x(),[M,C]=P(["edit-opportunity",!1],["get-opportunityDetail",!0]),[g]=r.useForm(),[f,z]=B.useMessage(),{errors:T}=N("editOpportunity-message"),Y=k(),w=O(),d=W(a=>a.sale.opportunity.detail),D=async a=>{const A={id:m,...a,estimatedMoney:a.estimatedMoney.toString(),budget:a.budget.toString(),commissionMoney:a.commissionMoney.toString(),estimatedTime:p(a.estimatedTime).format("DD/MM/YYYY"),lastTimeInteract:p(a.lastTimeInteract).format("DD/MM/YYYY")};await I(A)?f.success(j.UPDATE_SUCCESS):f.success(T[0])};return y.useEffect(()=>{m&&h(m)},[h,m]),y.useEffect(()=>{if(d){const a={...d,estimatedTime:p(d.estimatedTime),lastTimeInteract:p(d.lastTimeInteract)};g.setFieldsValue(a)}},[d]),e(F,{spinning:C,size:"large",children:o("div",{css:U,children:[z,o(b,{css:R,onClick:()=>Y(`/sales/opportunity?tenant=${w}`),children:[e(E,{width:16,height:16,color:"#ccc"}),e(v,{id:"title.exit"})]}),e("h1",{css:V,children:t({id:"title.editOpportuity"})}),o(r,{form:g,css:H,name:"add-opportunity",onFinish:D,layout:"vertical",children:[o(l,{gutter:[20,0],children:[e(s,{span:12,children:e(r.Item,{label:e("span",{css:i,children:t({id:"form.input.customer"})}),name:"customerName",rules:[{required:!0,message:t({id:"form.input.require.customer"})}],children:e(n,{size:"large",placeholder:t({id:"form.input.placeholder.customer"})})})}),e(s,{span:12,children:e(r.Item,{label:e("span",{css:i,children:t({id:"form.input.decisionMaker"})}),name:"accountable",rules:[{required:!0,message:t({id:"form.input.require.decisionMaker"})}],children:e(n,{size:"large",placeholder:t({id:"form.input.placeholder.decisionMaker"})})})})]}),o(l,{gutter:[20,0],children:[e(s,{span:12,children:e(r.Item,{label:e("span",{css:i,children:t({id:"form.input.technicalPerson"})}),name:"technicalLead",rules:[{required:!0,message:t({id:"form.input.require.technicalPerson"})}],children:e(n,{size:"large",placeholder:t({id:"form.input.placeholder.technicalPerson"})})})}),e(s,{span:12,children:e(r.Item,{label:e("span",{css:i,children:t({id:"form.input.beneficiary"})}),name:"beneficiary",rules:[{required:!0,message:t({id:"form.input.require.beneficiary"})}],children:e(n,{size:"large",placeholder:t({id:"form.input.placeholder.beneficiary"})})})})]}),e(r.Item,{label:e("span",{css:i,children:t({id:"form.input.customerNeeds"})}),name:"need",rules:[{required:!0,message:t({id:"form.input.require.customerNeeds"})}],children:e(n.TextArea,{placeholder:t({id:"form.input.placeholder.customerNeeds"})})}),o(l,{gutter:[20,0],children:[e(s,{span:12,children:e(r.Item,{label:e("span",{css:i,children:t({id:"form.input.OpportunityTimeline"})}),name:"estimatedTime",rules:[{required:!0,message:t({id:"form.input.require.OpportunityTimeline"})}],children:e(q,{css:c,size:"large",format:["DD/MM/YYYY"],placeholder:"DD/MM/YYYY"})})}),e(s,{span:12,children:e(r.Item,{label:e("span",{css:i,children:t({id:"form.input.budget"})}),name:"budget",rules:[{required:!0,message:t({id:"form.input.require.budget"})}],children:e(u,{css:c,size:"large",placeholder:t({id:"form.input.placeholder.budget"})})})})]}),o(l,{gutter:[20,0],children:[e(s,{span:12,children:e(r.Item,{label:e("span",{css:i,children:t({id:"form.input.estimatedPrice"})}),name:"estimatedMoney",rules:[{required:!0,message:t({id:"form.input.require.estimatedPrice"})}],children:e(u,{css:c,size:"large",placeholder:t({id:"form.input.placeholder.estimatedPrice"})})})}),e(s,{span:12,children:e(r.Item,{label:e("span",{css:i,children:t({id:"form.input.commissionConsultant"})}),name:"commissionMoney",rules:[{required:!0,message:t({id:"form.input.require.commissionConsultant"})}],children:e(u,{css:c,size:"large",placeholder:t({id:"form.input.placeholder.commissionConsultant"})})})})]}),o(l,{gutter:[20,0],children:[e(s,{span:12,children:e(r.Item,{label:e("span",{css:i,children:t({id:"form.input.oneCompetitor"})}),name:"opponent1",rules:[{required:!0,message:t({id:"form.input.require.oneCompetitor"})}],children:e(n,{size:"large",placeholder:t({id:"form.input.placeholder.oneCompetitor"})})})}),e(s,{span:12,children:e(r.Item,{label:e("span",{css:i,children:t({id:"form.input.strengthsAndWeaknesses"})}),name:"opponent1Attribute",rules:[{required:!0,message:t({id:"form.input.require.strengthsAndWeaknesses"})}],children:e(n,{size:"large",placeholder:t({id:"form.input.placeholder.strengthsAndWeaknesses"})})})})]}),o(l,{gutter:[20,0],children:[e(s,{span:12,children:e(r.Item,{label:e("span",{css:i,children:t({id:"form.input.twoCompetitor"})}),name:"opponent2",rules:[{required:!0,message:t({id:"form.input.require.twoCompetitor"})}],children:e(n,{size:"large",placeholder:t({id:"form.input.placeholder.twoCompetitor"})})})}),e(s,{span:12,children:e(r.Item,{label:e("span",{css:i,children:t({id:"form.input.strengthsAndWeaknesses"})}),name:"opponent2Attribute",rules:[{required:!0,message:t({id:"form.input.require.strengthsAndWeaknesses"})}],children:e(n,{size:"large",placeholder:t({id:"form.input.placeholder.strengthsAndWeaknesses"})})})})]}),e(r.Item,{label:e("span",{css:i,children:t({id:"form.input.strategy"})}),name:"strategy",rules:[{required:!0,message:t({id:"form.input.require.strategy"})}],children:e(n.TextArea,{placeholder:t({id:"form.input.placeholder.strategy"})})}),o(l,{gutter:[20,0],children:[e(s,{span:12,children:e(r.Item,{label:e("span",{css:i,children:t({id:"form.input.interactionBetweenCompanyAndCustomer"})}),name:"lastTimeInteract",rules:[{required:!0,message:t({id:"form.input.require.interactionBetweenCompanyAndCustomer"})}],children:e(q,{format:["DD/MM/YYYY"],css:c,size:"large",placeholder:t({id:"form.input.placeholder.interactionBetweenCompanyAndCustomer"})})})}),e(s,{span:12,children:e(r.Item,{label:e("span",{css:i,children:t({id:"form.input.WinProbabilityEvaluation"})}),name:"winningOpportunity",rules:[{required:!0,message:t({id:"form.input.require.WinProbabilityEvaluation"})}],children:e(n,{size:"large",placeholder:t({id:"form.input.placeholder.WinProbabilityEvaluation"})})})})]}),e(l,{justify:"end",children:e(b,{loading:M,size:"large",type:"primary",htmlType:"submit",children:"Xác nhận"})})]})]})})}const U={name:"12xj8qc",styles:"width:100%;max-width:90rem;height:100%;margin:3rem auto;position:relative"},R={name:"1xcndgz",styles:"display:flex;align-items:center;gap:0.4rem;position:absolute;right:0;top:0;&:hover{svg{path{fill:#4096ff;}}}"},V={name:"1hxvt0g",styles:"font-size:2.4rem;line-height:2.4rem;font-weight:600;color:rgba(16, 24, 40, 1)"},H={name:"1j6w3rk",styles:".ant-form-item-required::before{display:none!important;}margin-top:2rem"},i={name:"1pi3rvi",styles:"font-size:1.4rem;line-height:1.6rem;font-weight:500;color:rgba(16, 24, 40, 1)"},c={name:"1d3w5wq",styles:"width:100%"};export{ee as default};
//# sourceMappingURL=edit-opportunity-D-s4AESn.js.map
