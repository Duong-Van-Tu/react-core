import{e as f,z as x,g as S,c as I,m as b,a5 as v,r as O,P as i,o as t,n as a,S as C,B as p,w as d,L as E,T as P}from"./index-Bakn7Zu-.js";import{u as w,M as z,a as T}from"./index-EKr7IYs7.js";import{u as M}from"./opportunity.service-Ce2J1PJa.js";import"./index-B85xVXIU.js";import"./index-BxD5BTBy.js";import"./index-DlE2oBel.js";import"./index-s-JRt1VF.js";const j=[{title:"Người cập nhật",dataIndex:"applicationUser",width:"14%"},{title:"Mục tiêu",dataIndex:"goal",width:"14%"},{title:"Hoạt động",dataIndex:"activity"},{title:"Thời điểm",dataIndex:"time",render:s=>f(s).format("DD/MM/YYYY")},{title:"Kết quả",dataIndex:"result"}];function k(){const s=x(),y=S(),{openModal:u}=w(),{getAllHistoryOpportunity:n,getOpportunityById:r}=M(),{pagination:o,history:l,detail:g}=I(e=>e.sale.opportunity),[m]=b(["get-historyOpportunity",!0]),{id:c}=v(),h=e=>{n({pageIndex:e,pageSize:i.PAGESIZE})};return console.log({history:l}),O.useEffect(()=>{n({pageIndex:i.PAGEINDEX,pageSize:i.PAGESIZE}),r(c)},[n,r,c]),t("div",{css:A,children:a("div",{css:H,children:[t("h3",{css:B,children:"Cập nhật cơ hội"}),a(C,{direction:"vertical",children:[a(p,{css:D,onClick:()=>s(`/sales/opportunity?tenant=${y}`),children:[t(d,{color:"rgba(0, 0, 0, 1)",width:16,height:16,type:"close"}),t(E,{id:"title.exit"})]}),a(p,{onClick:()=>u(z.CreateHistoryOpportunity,g),type:"primary",css:Y,iconPosition:"start",size:"large",children:[t(d,{color:"#fff",width:16,height:16,type:"circle-plus"})," ",t("span",{children:"Thêm cập nhật"})]})]}),t(P,{css:G,columns:j,dataSource:l,loading:m,rowKey:e=>e.id,onTableChange:e=>h(e),pagination:{current:o==null?void 0:o.pageIndex,pageSize:i.PAGESIZE,total:o==null?void 0:o.totalRecords,position:["bottomCenter"]},scroll:{x:1200}})]})})}const A={name:"vrzvsa",styles:"display:flex;justify-content:center;margin:4rem 0"},H={name:"1xyre52",styles:"max-width:1200px;position:relative"},B={name:"1gqjfwb",styles:"font-size:2.4rem;line-height:2.6rem;font-weight:500"},G={name:"1j2gk6h",styles:"margin-top:6rem"},Y={name:"czg7gf",styles:"position:absolute;right:0;top:5.4rem;background:#0070b8;display:flex;align-items:center;gap:0.2rem;&:hover{background:#0070b8!important;opacity:0.9;}"},D={name:"1xcndgz",styles:"display:flex;align-items:center;gap:0.4rem;position:absolute;right:0;top:0;&:hover{svg{path{fill:#4096ff;}}}"};function U(){return t(T,{children:t(k,{})})}export{U as default};
//# sourceMappingURL=index-C24yz8M3.js.map
