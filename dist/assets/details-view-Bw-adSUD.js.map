{"version":3,"file":"details-view-Bw-adSUD.js","sources":["../../src/modules/users/pages/income/column/ticket-income-details.column.tsx","../../src/modules/users/pages/income/details-view.tsx"],"sourcesContent":["import { LocaleFormatter } from '@/components/locale-formatter';\nimport { TableProps } from 'antd';\nimport dayjs from 'dayjs';\n\ntype ColumnsType<T> = TableProps<T>['columns'];\n\nexport const ticketIncomeDetailsColumns: ColumnsType<any> = [\n  {\n    title: <LocaleFormatter id=\"title.column.income.content\" />,\n    dataIndex: 'note',\n  },\n  {\n    title: <LocaleFormatter id=\"title.column.income.expectedAmount\" />,\n    dataIndex: 'incomeEta',\n  },\n  {\n    title: <LocaleFormatter id=\"title.column.income.actualAmountSpent\" />,\n    dataIndex: 'incomeReal',\n  },\n  {\n    title: <LocaleFormatter id=\"title.column.income.object\" />,\n    dataIndex: 'employeeCode',\n  },\n  {\n    title: <LocaleFormatter id=\"title.column.income.type\" />,\n    dataIndex: 'typeCP',\n  },\n  {\n    title: <LocaleFormatter id=\"title.column.income.projectName\" />,\n    dataIndex: 'projectName',\n  },\n  {\n    title: <LocaleFormatter id=\"title.column.income.timeSpent\" />,\n    dataIndex: 'timeSpent',\n    render: (timeSpent) => dayjs(timeSpent).format('DD/MM/YYYY, HH:mm:ss'),\n  },\n];\n","/** @jsxImportSource @emotion/react */\nimport { css } from '@emotion/react';\nimport { CustomIcon } from '@/components/icons';\nimport { useLocale } from '@/hooks/locale.hook';\nimport { TableCustom } from '@/components/table';\nimport { ticketIncomeDetailsColumns } from './column/ticket-income-details.column';\nimport { useRootSelector } from '@/hooks/selector.hook';\nimport { Pagination } from '@/constants/pagination';\nimport { useQuery } from '@/hooks/query.hook';\nimport { useIncome } from '../../services/income.service';\nimport { usePermission } from '@/hooks/permission.hook';\nimport { useEffect } from 'react';\nimport { useWatchLoading } from '@/hooks/loading.hook';\nimport { Button } from 'antd';\nimport { LocaleFormatter } from '@/components/locale-formatter';\nimport { useNavigate } from 'react-router-dom';\nimport { getTenant } from '@/utils/common';\n\nexport default function TicketIncomeDetails() {\n  const navigate = useNavigate();\n  const { formatMessage } = useLocale();\n  const tenant = getTenant();\n\n  const { getListIncomeDetail } = useIncome();\n  const [loading] = useWatchLoading(['get-list-income-detail', true]);\n\n  const { isAdmin } = usePermission();\n\n  const { dataDetailIncome, pagination } = useRootSelector((state) => state.user.income);\n\n  const query = useQuery();\n\n  useEffect(() => {\n    handleViewDetail();\n  }, []);\n\n  const handleViewDetail = () => {\n    if (isAdmin) {\n      getListIncomeDetail({\n        userId: query.userId,\n        pageIndex: Pagination.PAGEINDEX,\n        pageSize: Pagination.PAGESIZE,\n      });\n    } else {\n      getListIncomeDetail({\n        userId: query.userId,\n        month: query.month,\n        year: query.year,\n        pageIndex: Pagination.PAGEINDEX,\n        pageSize: Pagination.PAGESIZE,\n      });\n    }\n  };\n\n  const handleTableChange = (page: number) => {\n    if (isAdmin) {\n      getListIncomeDetail({\n        userId: query.userId,\n        pageIndex: page,\n        pageSize: Pagination.PAGESIZE,\n      });\n    } else {\n      getListIncomeDetail({\n        userId: query.userId,\n        month: query.month,\n        year: query.year,\n        pageIndex: page,\n        pageSize: Pagination.PAGESIZE,\n      });\n    }\n  };\n\n  return (\n    <div css={containerStyle}>\n      <Button css={closeStyle} onClick={() => navigate(`/users/income?tenant=${tenant}`)}>\n        <CustomIcon type=\"close\" width={18} height={18} />\n        <LocaleFormatter id=\"title.exit\" />\n      </Button>\n      <h1 css={titleStyle}>{formatMessage({ id: 'title.document.income-ticket' })}</h1>\n      <div css={tableCustomStyle}>\n        <TableCustom\n          columns={ticketIncomeDetailsColumns}\n          dataSource={dataDetailIncome}\n          loading={loading}\n          rowKey={(record) => record.key}\n          onTableChange={(page) => handleTableChange(page)}\n          pagination={{\n            current: pagination?.pageIndex,\n            pageSize: Pagination.PAGESIZE,\n            total: pagination?.totalRecords,\n            position: ['bottomCenter'],\n          }}\n          scroll={{ x: 1000 }}\n        />\n      </div>\n    </div>\n  );\n}\n\nconst containerStyle = css`\n  width: 100%;\n  max-width: 120rem;\n  height: 100%;\n  margin: 0 auto;\n  padding: 0 15px;\n  position: relative;\n`;\n\nconst closeStyle = css`\n  display: flex;\n  align-items: center;\n  gap: 0.4rem;\n  position: absolute;\n  right: 0;\n  top: 3rem;\n  &:hover {\n    svg {\n      path {\n        fill: #4096ff;\n      }\n    }\n  }\n`;\n\nconst titleStyle = css`\n  font-size: 2.4rem;\n  font-weight: 600;\n  color: rgba(16, 24, 40, 1);\n  margin: 8rem 0;\n`;\n\nconst tableCustomStyle = css`\n  padding: 0.32rem 0;\n`;\n"],"names":["ticketIncomeDetailsColumns","title","jsx","LocaleFormatter","dataIndex","render","dayjs","timeSpent","format","TicketIncomeDetails","navigate","useNavigate","tenant","getTenant","getListIncomeDetail","loading","useWatchLoading","dataDetailIncome","useRootSelector","isAdmin","handleViewDetail","pagination","query","userId","PAGEINDEX","pageSize","PAGESIZE","month","year","pageIndex","handleTableChange","page","containerStyle","jsxs","Button","closeStyle","CustomIcon","tableCustomStyle","totalRecords","position","process","_EMOTION_STRINGIFIED_CSS_ERROR__","styles"],"mappings":"4cAMO,MAAMA,EAA+C,CAC1D,CACEC,MAAOC,EAACC,EAAgB,CAAA,GAAG,6BAAgC,CAAA,EAC3DC,UAAW,MACb,EACA,CACEH,MAAOC,EAACC,EAAgB,CAAA,GAAG,oCAAuC,CAAA,EAClEC,UAAW,WACb,EACA,CACEH,MAAOC,EAACC,EAAgB,CAAA,GAAG,uCAA0C,CAAA,EACrEC,UAAW,YACb,EACA,CACEH,MAAOC,EAACC,EAAgB,CAAA,GAAG,4BAA+B,CAAA,EAC1DC,UAAW,cACb,EACA,CACEH,MAAOC,EAACC,EAAgB,CAAA,GAAG,0BAA6B,CAAA,EACxDC,UAAW,QACb,EACA,CACEH,MAAOC,EAACC,EAAgB,CAAA,GAAG,iCAAoC,CAAA,EAC/DC,UAAW,aACb,EACA,CACEH,MAAOC,EAACC,EAAgB,CAAA,GAAG,+BAAkC,CAAA,EAC7DC,UAAW,YACXC,OAAuBC,GAAAA,EAAMC,CAAS,EAAEC,OAAO,sBAAsB,CACvE,CAAC,ECrBH,SAAgCC,GAAA,CAEhC,MAAAC,EAAAC,IAEAD,CACQA,cAAAA,OAAuBE,EAAAC,IACvBD,CAA8B,oBAAAE,GAAAA,EAAAA,EAAA,CAAAC,CAAA,EAAAC,EAAA,CAAA,yBAAA,EAAA,CAAA,EAC9BJ,CAEEE,QAAAA,GAAAA,EAAAA,EAAAA,CACF,iBAAAG,EAAQA,WAAAA,CAAAA,sBAAqBC,EAAAA,IAE3BC,EAAAA,cAAAA,CAEFC,GAAEH,EAAAA,CAAAA,CAAAA,EAAkBI,MAAAA,EAAAA,IAAAA,CAIVP,EAFVQ,EAEU,CACG,OAAAA,EAAA,OACdC,UAAAA,EAAAA,UAECH,WAAyBI,QAAAA,GAIHA,OAAAA,EAAAA,OACtBC,QAAqBC,MACtBC,OAAAA,KACIC,UAAAA,EAAAA,UACeC,WAAAL,QAAAA,CAROA,CASXD,EAEFK,EAAAA,GAAAA,CAIhBd,EADGgB,EACH,CACF,OAAAR,EAAA,OAEMQ,UAAAA,EACAX,SAASY,EAAAA,QAAAA,EAGEA,CACUL,OAAAA,EAAAA,OACtBH,QAAAA,MACII,OAAAA,KACeC,UAAAA,EAClBL,SAAcA,EAAAA,QAAAA,CARLQ,CASIJ,EAEFI,SAAAA,MAAAA,CAIjB,IAAAC,EAGE,SAAA,CAAAC,EAAAC,EAAK,CACF,IAAAC,EACC,QAAA,IAAAzB,EAAA,wBAAYE,CAAA,EAAA,EACZ,SAAA,CAAAV,EAAAkC,EAAA,CACF,KAAA,QAAA,MAAA,GAAA,OAAA,EAAA,CACC,MAAAC,oBAcgBX,EAEjBY,EAAAA,KAAAA,CACFC,IAAAA,WAIgBC,EAAAA,CAAAA,GAAAA,8BAAAA,CAAAA,CAAAA,CAAA,EAAAtC,EAAA,MAAA,CAAA,IAAAmC,EAAAI,WAAAA,EAAAA,CAAAA,QAAAA,EAAAA,WAAAA,EAAAA,QAAAA,EAAAA,UAAAA,EAAAA,IAAAA,cAAAA,GAAAA,EAAAA,CAAAA,EAAAA,WAAAA,CAAAA,QAAAA,GAAAA,YAAAA,EAAAA,UAAAA,SAAAA,EAAAA,SASJA,MAAAA,GAAAA,YAAAA,EAAAA,aAAAA,SAAAA,CAAAA,cAAAA,CAAAA,EAAAA,OAAAA,CAAAA,EAAAA,GAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAAAA,CAuBM,CAAA,MAAAT,EAAA,CAAAU,KAAA,UAAA,OAAA,wFAAA"}