import{y as f,h as x,b,aE as I,r as S,P as i,c as t,j as r,t as v,B as l,C as c}from"./index-D7kYuqtd.js";import{u as C,M as E}from"./index-D3YsrBAD.js";import{T as O}from"./table-CK0VyuD-.js";import{L as P}from"./locale-formatter-FZ-3y9Y2.js";import{u as T}from"./opportunity.service-Z_MSTo0G.js";import{u as w}from"./loading.hook-B4xO64Zi.js";import{d as z}from"./dayjs.min-SzvlDAgD.js";import{c as M}from"./modal.enum-Dk0fWDyJ.js";import"./index-DbvvMLWa.js";import"./ExclamationCircleFilled-Bz7bDzj1.js";import"./InfoCircleFilled-CK2dnJYF.js";import"./index-Cxldnjy_.js";import"./index-DAOf7p35.js";import"./status.enum-khnHdRij.js";import"./index-DcquuWwD.js";import"./index-Dnrrwy9u.js";import"./index-DGwjM0Al.js";import"./index-DMzhYhmi.js";import"./index-BuPIgzdn.js";const j=[{title:"Người cập nhật",dataIndex:"applicationUser",width:"14%"},{title:"Mục tiêu",dataIndex:"goal",width:"14%"},{title:"Hoạt động",dataIndex:"activity"},{title:"Thời điểm",dataIndex:"time",render:a=>z(a).format("DD/MM/YYYY")},{title:"Kết quả",dataIndex:"result"}];function k(){const a=f(),m=x(),{openModal:d}=C(),{getAllHistoryOpportunity:s,getOpportunityById:n}=T(),{pagination:o,history:y,detail:u}=b(e=>e.sale.opportunity),[g]=w(["get-historyOpportunity",!0]),{id:p}=I(),h=e=>{s({pageIndex:e,pageSize:i.PAGESIZE})};return S.useEffect(()=>{s({pageIndex:i.PAGEINDEX,pageSize:i.PAGESIZE}),n(p)},[s,n,p]),t("div",{css:A,children:r("div",{css:H,children:[t("h3",{css:B,children:"Cập nhật cơ hội"}),r(v,{direction:"vertical",children:[r(l,{css:D,onClick:()=>a(`/sales/opportunity?tenant=${m}`),children:[t(c,{color:"rgba(0, 0, 0, 1)",width:16,height:16,type:"close"}),t(P,{id:"title.exit"})]}),r(l,{onClick:()=>d(M.CreateHistoryOpportunity,u),type:"primary",css:Y,iconPosition:"start",size:"large",children:[t(c,{color:"#fff",width:16,height:16,type:"circle-plus"})," ",t("span",{children:"Thêm cập nhật"})]})]}),t(O,{css:G,columns:j,dataSource:y,loading:g,rowKey:e=>e.id,onTableChange:e=>h(e),pagination:{current:o==null?void 0:o.pageIndex,pageSize:i.PAGESIZE,total:o==null?void 0:o.totalRecords,position:["bottomCenter"]},scroll:{x:1200}})]})})}const A={name:"vrzvsa",styles:"display:flex;justify-content:center;margin:4rem 0"},H={name:"1xyre52",styles:"max-width:1200px;position:relative"},B={name:"1gqjfwb",styles:"font-size:2.4rem;line-height:2.6rem;font-weight:500"},G={name:"1j2gk6h",styles:"margin-top:6rem"},Y={name:"czg7gf",styles:"position:absolute;right:0;top:5.4rem;background:#0070b8;display:flex;align-items:center;gap:0.2rem;&:hover{background:#0070b8!important;opacity:0.9;}"},D={name:"1xcndgz",styles:"display:flex;align-items:center;gap:0.4rem;position:absolute;right:0;top:0;&:hover{svg{path{fill:#4096ff;}}}"};function rt(){return t(E,{children:t(k,{})})}export{rt as default};
//# sourceMappingURL=index-CQQYmJ2d.js.map
