import{u as R,r as o,y as k,j as g,c as s,B as z,bM as A,q as l,S as i,R as B}from"./index-D7kYuqtd.js";import{I as E}from"./index-DAOf7p35.js";import{d as M}from"./dayjs.min-SzvlDAgD.js";const Y=({onSearch:y,status:t,loadingStatus:f})=>{const{formatMessage:x}=R(),[d,b]=o.useState(),[h,j]=o.useState(),[m,w]=o.useState(),I=k();let c=new URLSearchParams(location.search);const n=e=>{y({textSearch:d,statusId:h,time:m,...e}),Object.entries({textSearch:d,statusId:h,time:m,...e}).forEach(([a,r])=>{r?c.set(a,Array.isArray(r)?r.join(","):r):c.delete(a)}),I(`?${c.toString()}`)},C=e=>{e.key==="Enter"&&n()},q=o.useMemo(()=>t==null?void 0:t.map(e=>({value:e.id,label:e.name})),[t])??[],p=2015,S=M().year(),P=Array.from({length:S-p+1},(e,a)=>p+a);return g(B,{justify:"space-between",align:"middle",gutter:[20,0],css:v,children:[s(l,{span:16,children:s(E,{css:K,size:"large",prefix:s(z,{css:O,icon:s(A,{onClick:()=>n()})}),onChange:e=>b(e.target.value),onKeyPress:C,allowClear:!0})}),t&&s(l,{span:4,children:s(i,{loading:f,css:u,size:"large",defaultValue:"",options:[{value:"",label:"Tất cả trạng thái"},...q],onChange:e=>j(e),onSelect:e=>{n({statusId:e})}})}),s(l,{span:4,children:s(i,{css:u,size:"large",defaultValue:S.toString(),onChange:e=>w(e),onSelect:e=>n({time:e}),children:P.map(e=>g(i.Option,{value:e.toString(),children:[x({id:"title.year"})," ",e]},e))})})]})},O={name:"h9ijsj",styles:"border:none;padding:none;background:none"},v={name:"1sxqwp1",styles:"padding:1rem 1.4rem;box-shadow:0.04px 0.01px 6px #eff1f4;border-radius:0.8rem"},K={name:"11k1e6l",styles:"border:none;outline:none"},u={name:"1d3w5wq",styles:"width:100%"};export{Y as S};
//# sourceMappingURL=search-8bG-27XG.js.map
