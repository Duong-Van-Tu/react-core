{"version":3,"file":"report-opportunity-yQuycRVK.js","sources":["../../src/modules/sales/pages/opportunity/report-opportunity.tsx"],"sourcesContent":["/** @jsxImportSource @emotion/react */\nimport { css } from '@emotion/react';\nimport { useRootSelector } from '@/hooks/selector.hook';\nimport { useEffect } from 'react';\nimport { useOpportunity } from '../../services/opportunity.service';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { Button, Col, Row } from 'antd';\nimport dayjs from 'dayjs';\nimport { Message } from '@/components/message';\nimport { StatusOpportunity } from '../../enum/status.enum';\nimport { CustomIcon } from '@/components/icons';\nimport { LocaleFormatter } from '@/components/locale-formatter';\nimport { getTenant } from '@/utils/common';\n\nexport default function ReportOpportunityPage() {\n  const report = useRootSelector((state) => state.sale.opportunity.detail);\n  const { id: opportunityId } = useParams();\n  const { getOpportunityById } = useOpportunity();\n  const navigate = useNavigate();\n  const tenant = getTenant();\n\n  let messageType: MessageType;\n  switch (report?.opportunityStatus?.code) {\n    case StatusOpportunity.Active:\n      messageType = 'success';\n      break;\n    case StatusOpportunity.Cancel:\n    case StatusOpportunity.Close:\n      messageType = 'error';\n      break;\n    default:\n      messageType = 'warning';\n  }\n\n  useEffect(() => {\n    getOpportunityById(opportunityId!);\n  }, [getOpportunityById, opportunityId]);\n  return (\n    <div css={rootStyle}>\n      <div css={containerStyle}>\n        <Button css={closeStyle} onClick={() => navigate(`/sales/opportunity?tenant=${tenant}`)}>\n          <CustomIcon type=\"close\" width={16} height={16} color=\"#ccc\" />\n          <LocaleFormatter id=\"title.exit\" />\n        </Button>\n        <h1 css={titleStyle}>Xem báo cáo cơ hội</h1>\n        <Row justify=\"center\">\n          <Col>\n            <h3 css={subTitleStyle}>Báo cáo kết quả trạng thái mối quan hệ với khách hàng</h3>\n          </Col>\n        </Row>\n        <div css={contentStyle}>\n          <Row justify=\"space-between\" gutter={[20, 0]}>\n            <Col span={12}>\n              <span css={labelStyle}>Khách hàng</span>\n            </Col>\n            <Col span={12}>\n              <div css={valueReportStyle}>{report?.customerName} </div>\n            </Col>\n          </Row>\n          <Row justify=\"space-between\" gutter={[20, 0]}>\n            <Col span={12}>\n              <span css={labelStyle}>Người quyết định</span>\n            </Col>\n            <Col span={12}>\n              <div css={valueReportStyle}>{report?.accountable}</div>\n            </Col>\n          </Row>\n          <Row justify=\"space-between\" gutter={[20, 0]}>\n            <Col span={12}>\n              <span css={labelStyle}>Người phụ trách kỹ thuật</span>\n            </Col>\n            <Col span={12}>\n              <div css={valueReportStyle}>{report?.technicalLead}</div>\n            </Col>\n          </Row>\n          <Row justify=\"space-between\" gutter={[20, 0]}>\n            <Col span={12}>\n              <span css={labelStyle}>Người thụ hưởng</span>\n            </Col>\n            <Col span={12}>\n              <div css={valueReportStyle}>{report?.beneficiary}</div>\n            </Col>\n          </Row>\n          <Row justify=\"space-between\" gutter={[20, 0]}>\n            <Col span={12}>\n              <span css={labelStyle}>Người thực hiện cơ hội</span>\n            </Col>\n            <Col span={12}>\n              <div css={valueReportStyle}>{report?.applicationUser?.fullName}</div>\n            </Col>\n          </Row>\n          <Row justify=\"space-between\" gutter={[20, 0]}>\n            <Col span={12}>\n              <span css={labelStyle}>Nhu cầu khách hàng</span>\n            </Col>\n            <Col span={12}>\n              <div css={valueReportStyle}>{report?.need}</div>\n            </Col>\n          </Row>\n          <Row justify=\"space-between\" gutter={[20, 0]}>\n            <Col span={12}>\n              <span css={labelStyle}>Thời điểm dự kiến cơ hội diễn ra</span>\n            </Col>\n            <Col span={12} css={valueReportStyle}>\n              {dayjs(report?.estimatedTime).format('DD/MM/YYYY')}\n            </Col>\n          </Row>\n          <Row justify=\"space-between\" gutter={[20, 0]}>\n            <Col span={12}>\n              <span css={labelStyle}>Budget</span>\n            </Col>\n            <Col span={12}>\n              <div css={valueReportStyle}>{report?.budget}</div>\n            </Col>\n          </Row>\n          <Row justify=\"space-between\" gutter={[20, 0]}>\n            <Col span={12}>\n              <span css={labelStyle}>Giá vốn dự kiến</span>\n            </Col>\n            <Col span={12}>\n              <div css={valueReportStyle}>{report?.estimatedMoney}</div>\n            </Col>\n          </Row>\n          <Row justify=\"space-between\" gutter={[20, 0]}>\n            <Col span={12}>\n              <span css={labelStyle}>Hoa hồng cho người tư vấn</span>\n            </Col>\n            <Col span={12}>\n              <div css={valueReportStyle}>{report?.commissionMoney}</div>\n            </Col>\n          </Row>\n          <Row justify=\"space-between\" gutter={[20, 0]}>\n            <Col span={12}>\n              <span css={labelStyle}>Đối thủ 1</span>\n            </Col>\n            <Col span={12}>\n              <div css={valueReportStyle}>{report?.opponent1}</div>\n            </Col>\n          </Row>\n          <Row justify=\"space-between\" gutter={[20, 0]}>\n            <Col span={12}>\n              <span css={labelStyle}>Điểm mạnh điểm yếu đối thủ 1</span>\n            </Col>\n            <Col span={12}>\n              <div css={valueReportStyle}>{report?.opponent1Attribute}</div>\n            </Col>\n          </Row>\n          <Row justify=\"space-between\" gutter={[20, 0]}>\n            <Col span={12}>\n              <span css={labelStyle}>Đối thủ 2</span>\n            </Col>\n            <Col span={12}>\n              <div css={valueReportStyle}>{report?.opponent2}</div>\n            </Col>\n          </Row>\n          <Row justify=\"space-between\" gutter={[20, 0]}>\n            <Col span={12}>\n              <span css={labelStyle}>Điểm mạnh điểm yếu đối thủ 2</span>\n            </Col>\n            <Col span={12}>\n              <div css={valueReportStyle}>{report?.opponent2Attribute}</div>\n            </Col>\n          </Row>\n          <Row justify=\"space-between\" gutter={[20, 0]}>\n            <Col span={12}>\n              <span css={labelStyle}>Chiến lược của AT&A</span>\n            </Col>\n            <Col span={12}>\n              <div css={valueReportStyle}>{report?.strategy}</div>\n            </Col>\n          </Row>\n          <Row justify=\"space-between\" gutter={[20, 0]}>\n            <Col span={12}>\n              <span css={labelStyle}>Lần tương tác gần nhất giữa AT&A và khách hàng </span>\n            </Col>\n            <Col span={12}>\n              <div css={valueReportStyle}>{report?.lastTimeInteract}</div>\n            </Col>\n          </Row>\n          <Row justify=\"space-between\" gutter={[20, 0]}>\n            <Col span={12}>\n              <span css={labelStyle}>Đánh giá khả năng thắng</span>\n            </Col>\n            <Col span={12}>\n              <div css={valueReportStyle}>{report?.winningOppotunity}</div>\n            </Col>\n          </Row>\n          <Row justify=\"space-between\" gutter={[20, 0]}>\n            <Col span={18}>\n              <span css={labelStyle}>Trạng thái</span>\n            </Col>\n            <Col span={6}>\n              <div css={valueReportStyle}>\n                <Message hasBackground type={messageType}>\n                  {report?.opportunityStatus?.name!}\n                </Message>\n                <br />\n                {report?.opportunityStatus?.code === StatusOpportunity.Fail &&\n                  `Lý do huỷ: ${report.reason}`}\n              </div>\n            </Col>\n          </Row>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nconst rootStyle = css`\n  display: flex;\n  justify-content: center;\n`;\n\nconst containerStyle = css`\n  max-width: 80rem;\n  width: 80rem;\n  margin: 4rem 0;\n  position: relative;\n`;\n\nconst closeStyle = css`\n  display: flex;\n  align-items: center;\n  gap: 0.4rem;\n  position: absolute;\n  right: 0;\n  top: 0;\n  &:hover {\n    svg {\n      path {\n        fill: #4096ff;\n      }\n    }\n  }\n`;\n\nconst titleStyle = css`\n  font-size: 2.4rem;\n  line-height: 2.6rem;\n  font-weight: 500;\n`;\n\nconst subTitleStyle = css`\n  font-weight: 500;\n  font-size: 2rem;\n  line-height: 2.2rem;\n  margin-top: 4rem;\n`;\n\nconst contentStyle = css`\n  margin-top: 3rem;\n  display: flex;\n  flex-direction: column;\n  gap: 2rem;\n`;\n\nconst labelStyle = css`\n  font-size: 1.6rem;\n  line-height: 1.8rem;\n  font-weight: 500;\n  width: 100%;\n  display: block;\n  text-align: left;\n`;\n\nconst valueReportStyle = css`\n  text-align: right;\n  display: block;\n  width: 100%;\n`;\n"],"names":["ReportOpportunityPage","report","useRootSelector","state","getOpportunityById","navigate","useNavigate","opportunityId","messageType","Active","Close","useEffect","containerStyle","jsxs","Button","closeStyle","tenant","jsx","CustomIcon","customerName","titleStyle","Row","Col","subTitleStyle","contentStyle","labelStyle","valueReportStyle","code","process","_EMOTION_STRINGIFIED_CSS_ERROR__"],"mappings":"uVAUA,SAA2BA,GAAA,aAE3B,MAAAC,EAAAC,EAA0BC,GAAAA,EAAA,KAAA,YAAA,MAAA,EAE1BF,CACQA,GAAAA,OAA0BE,CAC1B,mBAAAC,GAAAA,EAAAA,EAAAC,EAAAC,IAAMC,MAAc,IAAAC,EAClBJ,QAAAA,EAAAA,GAAAA,YAAAA,EAAAA,oBAAAA,YAAAA,EAAAA,KAAAA,CAAsCH,KAAAA,SACjBQ,EAAAA,UACJ,MAErBD,KAAAA,EAAAA,OACIP,KAAAA,QACiBQ,EAAAA,QACP,MACd,QACFD,EAAA,SACuBE,CACPC,OAAAA,EAAAA,UAAA,IAAA,CAEhBA,EAAAJ,CAAA,CAAA,EACgBH,CAAAA,EAAAG,CAAA,CAAA,IAClBA,MAAAA,CAEAI,IACEP,EAGA,WAAA,MAAK,CAEA,IAAAQ,EACE,SAAA,CAAAC,EAAAC,EAAA,CACD,IAAAC,EACF,QAAA,IAAAV,EAAA,6BAAAW,CAAA,EAAA,EACC,SAAA,CAAAC,EAAAC,EACA,CAUG,KAAA,QACuCC,MAAAA,GAAa,OAAA,gBAKlDA,EAAAA,EAAAA,EAAAA,CAAA,GAAA,YAAA,CAAA,CAAA,CAAA,CAKJ,EAAAF,EAAA,KAAA,CACA,IAAAG,EACG,SAAA,oBAAA,CAOH,EAAAH,EAAAI,EAAA,CAOA,QAAA,SACA,WAAAC,EAAA,CACG,gBAGD,CAIF,IAAAC,EAOA,SAAA,uDAAA,CACA,CAAA,CACG,CAAA,CAOH,EAAAV,EAAA,MAAA,CAOA,IAAAW,EACA,SAAA,CAAAX,EAAAQ,EAAA,CACG,QAAA,gBAOH,OAAA,CAAA,GAAA,CAAA,EAOA,SAAA,CAAAJ,EAAAK,EAAA,CACA,KAAA,GACG,WAAA,OAGD,CAIF,IAAAG,EAOA,SAAA,YAAA,CACA,CAAA,CACG,EAAAR,EAAAK,GAOH,KAAA,GAOA,WAAA,MAAA,CACA,IAAAI,EACG,SAAA,CAAAzB,GAAA,YAAAA,EAAA,aAGD,GAAA,CAAA,CAIF,CAAA,CAOA,CAAA,CAAA,CACA,EAAAY,IAAA,CACG,QAAA,gBAOH,OAAA,CAAA,GAAA,CAAA,EAMM,SAAA,CAAAI,EAAAK,EAAA,CAGA,KAAA,cAC4BK,OAGhC,CAEJ,IAAAF,EAMOG,SAAAA,kBAAAA,CAAA,CAAA,CAAA,EAAAX,EAAAK,GAAA,KAAA,GAAA,WAAA,MAAA,CAKKM,IAAAA,EAAA,SAAA3B,GAAA,YAAAA,EAAA,WAAA,CAAA,CAAA,CAAA4B,CAAAA,CAAAA,CAAA,EAAAhB,IAAA,CAOJe,QAAAA,gBAAA,OAAA,CAAA,GAAA,CAAA,EAAA,SAAA,CAAAX,EAAAK,EAAA,CAAAO,KAAAA,GAAA,WAAA,OAgBAD,CAAA,IAAAH,EAAA,SAAA,0BAAA,CAAA,CAAA,CAAAI,EAAAA,EAAAA,GAMG,KAAA,GAAA,WAAA,MAAA,CAAA,IAAAH,EAAA,SAAAzB,GAAA,YAAAA,EAAA,aAAA,CAOD2B,CAAAA,CAAA,CAAA,CAAA,CAAA,EAAAf,IAAA,CAAA,QAAA,gBAAA,OAAA,CAAA,GAAA,CAAA,EAOF,SAAA,CAAAI,EAAAK,EAAA,CAAA,KAAA,GAAA,WAAA,OAAA,OASMM,SAAAA,iBAAAA,KAAAD,EAAAA,EAAAA,CAAAE,KAAAA,GAAA,WAAA,MAAA"}