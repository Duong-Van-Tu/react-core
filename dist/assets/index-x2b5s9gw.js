import{r as l,j as x,c as t,u as S,B as v,C as w,D as A,aD as U,e as N,f as _,g as b,i as G,bq as L,P as d,b as C,a as Y,z as k}from"./index-D7kYuqtd.js";import{T as z}from"./table-CK0VyuD-.js";import{L as i}from"./locale-formatter-FZ-3y9Y2.js";import{M as H}from"./index-DbvvMLWa.js";import{d as f}from"./dayjs.min-SzvlDAgD.js";import{u as T}from"./loading.hook-B4xO64Zi.js";import{S as j}from"./search-8bG-27XG.js";import"./index-DGwjM0Al.js";import"./index-DMzhYhmi.js";import"./index-BuPIgzdn.js";import"./index-DAOf7p35.js";import"./ExclamationCircleFilled-Bz7bDzj1.js";import"./InfoCircleFilled-CK2dnJYF.js";var E=(e=>(e.EditHumanResource="Edit Human Resource",e))(E||{});const P=l.createContext(void 0),Z=()=>{const e=l.useContext(P);if(!e)throw new Error("useModalUserCategry must be used within a ModalUserCategoryProvider");return e},B=({children:e})=>{const[a,o]=l.useState(),[u,n]=l.useState(!1),c=(m,h)=>{o({modalName:m,data:h}),n(!0)},r=()=>{o(void 0),n(!1)};return x(P.Provider,{value:{openModal:c,closeModal:r},children:[e,t(H,{open:u,onCancel:r,footer:null,children:(a==null?void 0:a.modalName)===E.EditHumanResource&&t("div",{children:"Edit Modal"})})]})};function $({data:e}){const{openModal:a}=Z(),{formatMessage:o}=S(),u=c=>{switch(c){case 1:a(E.EditHumanResource,e);break}},n=[{key:"1",label:t("span",{children:o({id:"dropdown.edit"})}),onClick:()=>u(1)}];return t(A,{menu:{items:n},placement:"bottomRight",children:t(v,{css:q,children:t(w,{type:"three-dot",width:16,height:18})})})}const q={name:"l2srbf",styles:"background:none;border:none;box-shadow:unset;padding:0"},X=[{title:t(i,{id:"title.column.humanResources.humanResourceCode"}),dataIndex:"code",render:e=>e},{title:t(i,{id:"title.column.humanResources.humanResourceName"}),dataIndex:"fullName",render:e=>e},{title:t(i,{id:"title.column.humanResources.title"}),dataIndex:["applicationRoles"],render:e=>t(U,{children:e==null?void 0:e.map((a,o)=>x("div",{children:[a.displayName,o<e.length-1&&t("br",{})]},o))})},{title:t(i,{id:"title.column.humanResources.startDate"}),dataIndex:"startDate",render:(e,a)=>`${f(a.startDate).format("DD/MM/YYYY")} `},{title:t(i,{id:"title.column.humanResources.endDate"}),dataIndex:"endDate",render:(e,a)=>`${f(a.endDate).format("DD/MM/YYYY")} `},{title:"Email",dataIndex:"email",render:e=>e},{title:t(i,{id:"title.column.humanResources.numberPhone"}),dataIndex:"phone",render:e=>e},{title:t(i,{id:"title.column.humanResources.evaluate"}),dataIndex:"review",render:e=>e},{title:t(i,{id:"title.column.humanResources.note"}),dataIndex:"notes",render:e=>e},{title:"",fixed:"right",width:"6%",render:(e,a)=>t($,{data:a})}],F=()=>{const e=N(""),a=_(),o=b();return{getListUsers:l.useCallback(async({pageIndex:n=d.PAGEINDEX,pageSize:c=d.PAGESIZE,textSearch:r,time:m=f().year().toString()})=>{const h={PageIndex:n.toString(),PageSize:c.toString(),TextSearch:r,Time:`1-1-${m}`},g=G(h),{data:p,succeeded:s}=await a(()=>e.get(`/ApplicationUsers/get-list-with-pagination?${g}`),{loadingKey:"get-list-user"});if(s){const{items:I,totalRecords:R,pageIndex:y,totalPages:D,totalExtend:M}=p;o(L({data:I,pagination:{pageIndex:y,totalRecords:R,totalPages:D},totalExtend:M}))}},[a,e])}};function ce(){const{formatMessage:e}=S(),{getListUsers:a}=F(),[o]=T(["get-list-user",!0]),{data:u,pagination:n}=C(s=>s.category.humanResources),c=C(s=>s.auth.user),{isAdmin:r}=Y(),m=b();l.useEffect(()=>{m(k([{title:{vi_VN:"Danh mục",en_US:"Category"}},{title:{vi_VN:"Nhân sự",en_US:"Personnel"}}]))},[m]),l.useEffect(()=>{h()},[]);const h=()=>{r&&a({pageIndex:d.PAGEINDEX,pageSize:d.PAGESIZE})},g=({textSearch:s,time:I})=>{a({pageIndex:(n==null?void 0:n.pageIndex)??d.PAGEINDEX,pageSize:d.PAGESIZE,textSearch:s,time:I})},p=s=>{a({pageIndex:s,pageSize:d.PAGESIZE})};return x(B,{children:[t("h3",{css:K,children:e({id:"title.document.human-resource"})}),t("div",{css:V,children:t(j,{onSearch:g})}),t(z,{columns:X,dataSource:r?u:[c],loading:o,rowKey:s=>s.id,onTableChange:s=>p(s),pagination:r?{current:n==null?void 0:n.pageIndex,pageSize:d.PAGESIZE,total:n==null?void 0:n.totalRecords,position:["bottomCenter"]}:void 0,scroll:{x:1450}})]})}const K={name:"vahflk",styles:"font-size:1.8rem;line-height:2rem;font-weight:500;margin-bottom:2.4rem;color:#101828"},V={name:"gjoxlq",styles:"margin:2.6rem 0"};export{ce as default};
//# sourceMappingURL=index-x2b5s9gw.js.map
